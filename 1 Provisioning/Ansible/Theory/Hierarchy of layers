üß† –ò–µ—Ä–∞—Ä—Ö–∏—è —É—Ä–æ–≤–Ω–µ–π Ansible (–æ—Ç –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è –∫ –Ω–∏–∑–∫–æ–º—É)

1. Orchestration Layer   (–£—Ä–æ–≤–µ–Ω—å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏)
2. Architecture Layer    (–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)
3. Syntax / Composition  (–°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è)
4. Execution Layer       (–£—Ä–æ–≤–µ–Ω—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è)
5. Engine Layer          (–£—Ä–æ–≤–µ–Ω—å –¥–≤–∏–∂–∫–∞ Ansible)
6. Transport / OS Layer  (–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –û–°)


–¢–µ–ø–µ—Ä—å ‚Äî –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –ø–æ–¥—Ä–æ–±–Ω–æ, —Å RU / EN, –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.

1Ô∏è‚É£ Orchestration Layer
üß≠ –£—Ä–æ–≤–µ–Ω—å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ (—á—Ç–æ, –≥–¥–µ –∏ –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ)
–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
    –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π
    —Ü–µ–ª–µ–≤—ã–µ —Ö–æ—Å—Ç—ã
    –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
    —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–ø—É—Å–∫–∞
–ß—Ç–æ —Å—é–¥–∞ –≤—Ö–æ–¥–∏—Ç
| EN        | RU           | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                  |
| --------- | ------------ | ---------------------------- |
| Playbook  | –ü–ª–µ–π–±—É–∫      | –ì–ª–∞–≤–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π             |
| Play      | –ü–ª–µ–π         | –û–¥–∏–Ω –∑–∞–ø—É—Å–∫ –Ω–∞ –≥—Ä—É–ø–ø—É —Ö–æ—Å—Ç–æ–≤ |
| Task list | –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤     |
| Hosts     | –•–æ—Å—Ç—ã        | –ù–∞ –∫–æ–≥–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è          |
| Variables | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ   | –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è          |
| Strategy  | –°—Ç—Ä–∞—Ç–µ–≥–∏—è    | linear / free                |

üìå Playbook –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç —Å–∞–º ‚Äî –æ–Ω –¥–∏—Ä–∏–∂–∏—Ä—É–µ—Ç
- hosts: web
  tasks:
    - name: Install nginx
      apt:
        name: nginx
‚û°Ô∏è –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤



2Ô∏è‚É£ Architecture Layer
üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
    –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
    —á–∏—Ç–∞–µ–º–æ—Å—Ç—å
    –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
    —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã
–ß—Ç–æ —Å—é–¥–∞ –≤—Ö–æ–¥–∏—Ç
| EN                | RU                | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π          |
| ----------------- | ----------------- | -------------------- |
| Role              | –†–æ–ª—å              | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –±–ª–æ–∫   |
| Collection        | –ö–æ–ª–ª–µ–∫—Ü–∏—è         | –ü–∞–∫–µ—Ç —Ä–æ–ª–µ–π/–º–æ–¥—É–ª–µ–π  |
| Project structure | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ | Best practices       |
| Environments      | –û–∫—Ä—É–∂–µ–Ω–∏—è         | dev / staging / prod |

roles/
 ‚îî‚îÄ‚îÄ nginx/
     ‚îú‚îÄ‚îÄ tasks/
     ‚îú‚îÄ‚îÄ handlers/
     ‚îú‚îÄ‚îÄ templates/

üìå Role = —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ –¥–ª—è prod
‚û°Ô∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è



3Ô∏è‚É£ Syntax / Composition Layer
üß© –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è (–∫–∞–∫ —Å–æ–±–∏—Ä–∞—Ç—å YAML)

–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
    —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
    —É—Å–ª–æ–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
    —Ü–∏–∫–ª—ã
    —à–∞–±–ª–æ–Ω—ã
–ß—Ç–æ —Å—é–¥–∞ –≤—Ö–æ–¥–∏—Ç
| EN            | RU                | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π  |
| ------------- | ----------------- | ------------ |
| include_tasks | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–¥–∞—á | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ |
| import_tasks  | –ò–º–ø–æ—Ä—Ç –∑–∞–¥–∞—á      | –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ  |
| include_role  | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ–ª–∏  | runtime      |
| import_role   | –ò–º–ø–æ—Ä—Ç —Ä–æ–ª–∏       | parse-time   |
| when          | –£—Å–ª–æ–≤–∏–µ           | if           |
| loop          | –¶–∏–∫–ª              | for          |
| Jinja2        | –®–∞–±–ª–æ–Ω—ã           | {{ var }}    |

- include_tasks: install.yml
  when: ansible_os_family == "Debian"

üìå –≠—Ç–æ ‚Äú–∫–ª–µ–π‚Äù, –Ω–æ –Ω–µ –ª–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
‚û°Ô∏è –Ø–∑—ã–∫ —Å–±–æ—Ä–∫–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è




4Ô∏è‚É£ Execution Layer
‚öô –£—Ä–æ–≤–µ–Ω—å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (—á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –¥–µ–ª–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è)
–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
    –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
    idempotency
    –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
–ß—Ç–æ —Å—é–¥–∞ –≤—Ö–æ–¥–∏—Ç
| EN            | RU            | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π       |
| ------------- | ------------- | ----------------- |
| Module        | –ú–æ–¥—É–ª—å        | –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π –∫–æ–¥   |
| Action plugin | Action-–ø–ª–∞–≥–∏–Ω | –û–±—ë—Ä—Ç–∫–∞ –º–æ–¥—É–ª—è    |
| Handler       | –û–±—Ä–∞–±–æ—Ç—á–∏–∫    | –†–µ–∞–∫—Ü–∏—è –Ω–∞ change |

- name: Start service
  service:
    name: nginx
    state: started

üìå –¢–æ–ª—å–∫–æ –∑–¥–µ—Å—å —Ä–µ–∞–ª—å–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞
‚û°Ô∏è –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å —Ä–∞–±–æ—Ç




5Ô∏è‚É£ Engine Layer
üß† –£—Ä–æ–≤–µ–Ω—å –¥–≤–∏–∂–∫–∞ Ansible (–∫–∞–∫ Ansible —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏)
–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
    –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö
    –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    –ø–ª–∞–≥–∏–Ω—ã
    –ø–æ–≤–µ–¥–µ–Ω–∏–µ Ansible
–ß—Ç–æ —Å—é–¥–∞ –≤—Ö–æ–¥–∏—Ç (Plugins)
| EN               | RU               | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π      |
| ---------------- | ---------------- | ---------------- |
| Lookup plugin    | Lookup-–ø–ª–∞–≥–∏–Ω    | –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö |
| Filter plugin    | –§–∏–ª—å—Ç—Ä           | Jinja2-—Ñ—É–Ω–∫—Ü–∏–∏   |
| Inventory plugin | –ü–ª–∞–≥–∏–Ω –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è | –û—Ç–∫—É–¥–∞ —Ö–æ—Å—Ç—ã     |
| Callback plugin  | –ü–ª–∞–≥–∏–Ω –≤—ã–≤–æ–¥–∞    | –õ–æ–≥–∏             |
| Strategy plugin  | –ü–ª–∞–≥–∏–Ω —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ | –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º      |
| Cache plugin     | –ö—ç—à –ø–ª–∞–≥–∏–Ω       | –§–∞–∫—Ç—ã            |

{{ lookup('env', 'HOME') }}
üìå –ü–ª–∞–≥–∏–Ω—ã –º–µ–Ω—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ Ansible, –∞ –Ω–µ —Å–∏—Å—Ç–µ–º—É
‚û°Ô∏è –î–≤–∏–∂–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏




6Ô∏è‚É£ Transport / OS Layer
üîå –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
    —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Ö–æ—Å—Ç–æ–º
    –ø–µ—Ä–µ–¥–∞—á—É –∫–æ–º–∞–Ω–¥
    —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –û–°
–ß—Ç–æ —Å—é–¥–∞ –≤—Ö–æ–¥–∏—Ç
| EN     | RU             | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| ------ | -------------- | ----------- |
| SSH    | SSH            | Linux       |
| WinRM  | WinRM          | Windows     |
| Docker | Docker exec    | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã  |
| Local  | –õ–æ–∫–∞–ª—å–Ω–æ       | localhost   |
| Python | Python runtime | –¢—Ä–µ–±—É–µ—Ç—Å—è   |

üìå –ë–µ–∑ —ç—Ç–æ–≥–æ Ansible –Ω–µ –¥–æ–±–µ—Ä—ë—Ç—Å—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞
‚û°Ô∏è –§–∏–∑–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å





üßæ –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (–∫–æ—Ä–æ—Ç–∫–æ)
| –£—Ä–æ–≤–µ–Ω—å | EN            | RU          | –ì–ª–∞–≤–Ω–∞—è —Ä–æ–ª—å         |
| ------- | ------------- | ----------- | -------------------- |
| 1       | Orchestration | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º |
| 2       | Architecture  | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ reuse    |
| 3       | Syntax        | –°–∏–Ω—Ç–∞–∫—Å–∏—Å   | –°–±–æ—Ä–∫–∞ YAML          |
| 4       | Execution     | –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ  | –†–µ–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è   |
| 5       | Engine        | –î–≤–∏–∂–æ–∫      | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ª–æ–≥–∏–∫–∞    |
| 6       | Transport     | –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç   | –°–≤—è–∑—å —Å –û–°           |




üéØ –ö–∞–∫ —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –≤ –≥–æ–ª–æ–≤–µ
Playbook
 ‚îî‚îÄ Role
    ‚îî‚îÄ Tasks
       ‚îî‚îÄ Module
          ‚îî‚îÄ Plugin
             ‚îî‚îÄ SSH / OS

Role - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ ‚Äî —ç—Ç–æ –ø–∞–ø–∫–∞.
